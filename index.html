<html>
<head>
	<title>Speakerlist</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
	<!--<link href='http://fonts.googleapis.com/css?family=Roboto+Condensed:400,700' rel='stylesheet' type='text/css'>-->
	<link href="css/tale.css" type="text/css" rel="stylesheet" />
	<script src="scripts/jquery.min.js"></script>
	<script src="scripts/speaker-repository.js"></script>
	<script src="scripts/speakerlist-view.js"></script>
	<script src="scripts/speakerqueue.js"></script>
	<script src="scripts/speaker.js"></script>
</head>
<body>
	<div id="speakerApp">
		<h1 class="app-title">Speakerlist</h1>
		<form id="addItemForm" class="item-form">
			<input type="text" placeholder="Who wants to talk?" id="itemName" name="itemName" class="input-text" />
		</form>
		<ul id="itemList" class="item-list"></ul>
	</div>
</body>
<script>
var queueView = new SpeakerQueueView(document.getElementById("itemList"));
var repository = new SpeakerRepository();
var queue = new SpeakerQueue();
var torkilspeaker = new Speaker("Torkil", 1);
var gretespeaker = new Speaker("Grete", 2);
repository.add(torkilspeaker);
repository.add(gretespeaker);
$("#addItemForm").on('submit', function(ev) {
	ev.preventDefault();
	console.log("Adding "+$("#itemName").val())
	queue.add(repository.getSpeakerByNum($("#itemName").val()));
	queueView.drawSpeakers(queue);
	$("#itemName").val("");
});
console.log("app initialized");
</script>
</html>